exports.id=369,exports.ids=[369],exports.modules={237:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},15501:(a,b,c)=>{"use strict";c.d(b,{g:()=>d.UserRole});var d=c(96330)},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>m,metadata:()=>l});var d=c(75338),e=c(24546),f=c.n(e),g=c(38020),h=c.n(g),i=c(76781),j=c.n(i);c(82704);var k=c(44327);let l={title:"Mati\xe8re",description:"Gestionnaire de projets et fichiers Mati\xe8re",icons:{icon:"/Matiere_logo_512.png",apple:"/Matiere_logo_512.png"}};function m({children:a}){return(0,d.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} ${j().variable} antialiased`,children:(0,d.jsx)(k.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:a})})})}},19091:(a,b,c)=>{"use strict";c.d(b,{R:()=>n});var d=c(21124),e=c(38301),f=c(53519),g=c(30887),h=c(47089),i=c(8294),j=c(59405),k=c(19217),l=c(24515),m=c(22112);function n({images:a,projectName:b}){let[c,n]=(0,e.useState)(0),[o,p]=(0,e.useState)(!0),[q,r]=(0,e.useState)(!1),s=(0,e.useCallback)(()=>{n(b=>(b+1)%a.length)},[a.length]),t=(0,e.useCallback)(()=>{n(b=>(b-1+a.length)%a.length)},[a.length]);if(0===a.length)return(0,d.jsx)("div",{className:"flex flex-col items-center justify-center h-[60vh] bg-gray-50 dark:bg-gray-900 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-700",children:(0,d.jsxs)("div",{className:"text-center px-6",children:[(0,d.jsx)("svg",{className:"mx-auto h-24 w-24 text-gray-300 dark:text-gray-600 mb-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Aucune image"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-md",children:"Ce diaporama ne contient aucune image pour le moment."}),(0,d.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:"Le slideshow n'a pas encore \xe9t\xe9 publi\xe9 ou ne contient pas d'images."})]})});let u=a[c];return(0,d.jsxs)("div",{className:`${q?"fixed inset-0 z-50 bg-black":"relative"}`,children:[b&&!q&&(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:b}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Slideshow - ",a.length," image",a.length>1?"s":""]})]}),(0,d.jsxs)("div",{className:`relative ${q?"h-screen":"h-[70vh]"} bg-gray-900 rounded-2xl overflow-hidden group`,children:[(0,d.jsx)(l.default,{src:(0,m.M)(u.image.url),alt:u.image.alt||`Image ${c+1}`,fill:!0,className:"object-contain",priority:!0}),(0,d.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,d.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-6 flex items-center justify-between",children:[(0,d.jsx)("div",{className:"text-white",children:(0,d.jsxs)("p",{className:"text-sm font-bold uppercase tracking-wider opacity-80",children:[c+1," / ",a.length]})}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(k.$,{onClick:()=>p(!o),variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:o?(0,d.jsx)(f.A,{className:"w-5 h-5"}):(0,d.jsx)(g.A,{className:"w-5 h-5"})}),q&&(0,d.jsx)(k.$,{onClick:()=>r(!1),variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:(0,d.jsx)(h.A,{className:"w-5 h-5"})})]})]}),(0,d.jsx)("button",{onClick:t,className:"absolute left-6 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-full text-white transition-all",children:(0,d.jsx)(i.A,{className:"w-6 h-6"})}),(0,d.jsx)("button",{onClick:s,className:"absolute right-6 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-full text-white transition-all",children:(0,d.jsx)(j.A,{className:"w-6 h-6"})}),u.image.alt&&(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:(0,d.jsx)("p",{className:"text-white text-lg font-medium text-center",children:u.image.alt})})]})]}),!q&&a.length>1&&(0,d.jsx)("div",{className:"mt-6 flex gap-3 overflow-x-auto pb-4 custom-scrollbar",children:a.map((a,b)=>(0,d.jsxs)("button",{onClick:()=>n(b),className:`relative flex-shrink-0 w-24 h-24 rounded-lg overflow-hidden transition-all ${b===c?"ring-4 ring-indigo-500 scale-110":"opacity-60 hover:opacity-100"}`,children:[(0,d.jsx)(l.default,{src:(0,m.M)(a.image.url),alt:a.image.alt||`Thumbnail ${b+1}`,fill:!0,className:"object-cover",sizes:"96px"}),b===c&&(0,d.jsx)("div",{className:"absolute inset-0 bg-indigo-500/20"})]},a.id))}),!q&&(0,d.jsx)("div",{className:"mt-6 flex justify-center",children:(0,d.jsx)(k.$,{onClick:()=>r(!0),className:"bg-gray-900 dark:bg-white text-white dark:text-gray-900 hover:scale-105 active:scale-95 transition-all font-bold uppercase tracking-widest text-xs px-8",children:"Plein \xe9cran"})})]})}},19217:(a,b,c)=>{"use strict";c.d(b,{$:()=>h});var d=c(21124),e=c(38301),f=c(43249),g=c(58829);let h=e.forwardRef(({className:a,variant:b="default",size:c="default",...e},h)=>(0,d.jsx)("button",{className:function(...a){return(0,g.QP)((0,f.$)(a))}("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300",{"bg-gray-900 text-gray-50 hover:bg-gray-900/90 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90":"default"===b,"bg-red-500 text-gray-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-gray-50 dark:hover:bg-red-900/90":"destructive"===b,"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900 dark:border-gray-800 dark:bg-gray-950 dark:hover:bg-gray-800 dark:hover:text-gray-50":"outline"===b,"bg-gray-100 text-gray-900 hover:bg-gray-100/80 dark:bg-gray-800 dark:text-gray-50 dark:hover:bg-gray-800/80":"secondary"===b,"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50":"ghost"===b,"text-gray-900 underline-offset-4 hover:underline dark:text-gray-50":"link"===b,"h-10 px-4 py-2":"default"===c,"h-9 rounded-md px-3":"sm"===c,"h-11 rounded-md px-8":"lg"===c,"h-10 w-10":"icon"===c},a),ref:h,...e}));h.displayName="Button"},22112:(a,b,c)=>{"use strict";function d(a){if(!a)return"";if(a.startsWith("http://")||a.startsWith("https://"))return a;let b=a.startsWith("/")?a.substring(1):a;return`https://pub-78c42489fd854dc3a6975810aa00edf2.r2.dev/${b}`}c.d(b,{M:()=>d})},22213:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(21124);function e({username:a,name:b,color:c,role:e,size:f="md"}){let g=b&&b.length>=2?b.substring(0,2).toUpperCase():a&&a.length>=2?a.substring(0,2).toUpperCase():e.substring(0,2).toUpperCase(),h=c||"#6366f1",i=(a=>{let b=a.replace("#",""),c=parseInt(b.substring(0,2),16),d=parseInt(b.substring(2,4),16);return(299*c+587*d+114*parseInt(b.substring(4,6),16))/1e3>128?"text-black":"text-white"})(h);return(0,d.jsxs)("div",{className:`${{sm:"w-6 h-6 text-[10px]",md:"w-9 h-9 text-[11px]",lg:"w-14 h-14 text-lg"}[f]} rounded-full flex items-center justify-center font-bold ${i} shadow-md border-2 border-white/20 dark:border-black/20 ring-1 ring-black/5 relative overflow-hidden group transition-all duration-300 hover:shadow-lg`,style:{backgroundColor:h,background:`linear-gradient(135deg, ${h}, ${h}dd)`},title:b||a||e,children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-white/10 group-hover:bg-transparent transition-colors"}),(0,d.jsx)("span",{className:"relative z-10 tracking-tighter",children:g})]})}},27583:(a,b,c)=>{"use strict";c.d(b,{gG:()=>j.UserRole,j2:()=>n,R1:()=>k,Y9:()=>m});var d=c(89353),e=c(23168),f=c(99306),g=c(70373),h=c(32146),i=c(38629),j=c(96330);function k(a,b){return!!a?.user?.role&&b.includes(a.user.role)}var l=c(30477);let{handlers:m,auth:n,signIn:o,signOut:p}=(0,d.Ay)({adapter:(0,e.y)(g.A),session:{strategy:"jwt"},trustHost:!0,cookies:{sessionToken:{name:"next-auth.session-token-v2",options:{httpOnly:!0,sameSite:"lax",path:"/",secure:!0}},csrfToken:{name:"next-auth.csrf-token-v2",options:{httpOnly:!0,sameSite:"lax",path:"/",secure:!0}},callbackUrl:{name:"next-auth.callback-url-v2",options:{httpOnly:!0,sameSite:"lax",path:"/",secure:!0}}},pages:{signIn:"/login"},providers:[(0,f.A)({name:"Credentials",credentials:{username:{label:"Nom d'utilisateur",type:"text"},password:{label:"Mot de passe",type:"password"}},async authorize(a){l.vF.debug("[Auth_Authorize] Attempting login for user/email:",a?.username);try{let b=i.Ikc({username:i.YjP(),password:i.YjP().min(6)}).safeParse(a);if(b.success){let{username:a,password:c}=b.data;l.vF.debug("[Auth_Authorize] Querying database for user...");let d=await g.A.user.findFirst({where:{OR:[{username:a},{email:a}]}});if(!d)return l.vF.warn("[Auth_Authorize] User not found in database:",a),null;if(!d.passwordHash)return l.vF.warn("[Auth_Authorize] User has no password hash set:",a),null;if(l.vF.debug("[Auth_Authorize] User found, verifying password hash..."),(0,h.Dm)(c,d.passwordHash))return l.vF.info("[Auth_Authorize] Password match successful for:",a),d;l.vF.warn("[Auth_Authorize] Password mismatch for:",a)}else l.vF.warn("[Auth_Authorize] Invalid credentials format provided")}catch(a){l.vF.error("[Auth_Authorize] UNEXPECTED ERROR during authorization:",a),l.vF.error("[Auth_Authorize] Error Details:",{name:a.name,message:a.message,code:a.code,meta:a.meta})}return null}})],callbacks:{jwt:async({token:a,user:b})=>(b&&(a.id=b.id,a.role=b.role,a.username=b.username,a.name=b.name,a.color=b.color),a),session:async({session:a,token:b})=>(a.user&&(a.user.id=b.id,a.user.role=b.role,a.user.username=b.username,a.user.name=b.name,a.user.color=b.color),a)}})},30477:(a,b,c)=>{"use strict";c.d(b,{vF:()=>d}),c(74515);let d={debug:(...a)=>{},info:(...a)=>{},warn:(...a)=>{console.warn("[WARN]",...a)},error:(...a)=>{console.error("[ERROR]",...a)}}},30758:a=>{"use strict";a.exports={rE:"0.1.77"}},44327:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\wamp64\\www\\sitematiere-nexjs\\components\\theme-provider.tsx","ThemeProvider")},52973:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},64385:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>f});var d=c(21124);c(38301);var e=c(45523);function f({children:a,...b}){return(0,d.jsx)(e.N,{...b,children:a})}},69607:(a,b,c)=>{Promise.resolve().then(c.bind(c,64385))},70373:(a,b,c)=>{"use strict";c.d(b,{A:()=>h});var d=c(96330),e=c(95147);let f=process.env.DATABASE_URL;if(!f)throw Error("DATABASE_URL environment variable is not set");let g=new e.J({connectionString:f}),h=globalThis.prisma??new d.PrismaClient({adapter:g})},82704:()=>{},86479:(a,b,c)=>{Promise.resolve().then(c.bind(c,44327))},98673:(a,b,c)=>{"use strict";c.d(b,{A:()=>D});var d=c(21124),e=c(38301),f=c(3991),g=c.n(f),h=c(42378),i=c(24515),j=c(6130),k=c(47089),l=c(77028),m=c(59405),n=c(77850),o=c(15350),p=c(65893),q=c(65128),r=c(95266),s=c(96361),t=c(9956),u=c(19710);function v({variant:a="default"}){return"icon"===a?(0,d.jsx)("button",{onClick:()=>(0,t.CI)({callbackUrl:"/login"}),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors cursor-pointer",title:"D\xe9connexion",children:(0,d.jsx)(u.A,{className:"w-5 h-5"})}):"sidebar"===a?(0,d.jsxs)("button",{onClick:()=>(0,t.CI)({callbackUrl:"/login"}),className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-semibold text-gray-500 hover:text-red-600 bg-gray-50/50 dark:bg-gray-900/20 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all group cursor-pointer",title:"D\xe9connexion",children:[(0,d.jsx)(u.A,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),(0,d.jsx)("span",{className:"truncate",children:"D\xe9connexion"})]}):(0,d.jsx)("button",{onClick:()=>(0,t.CI)({callbackUrl:"/login"}),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 cursor-pointer",children:"D\xe9connexion"})}var w=c(22213),x=c(70175),y=c(60988),z=c(45523);function A(){let{setTheme:a,theme:b}=(0,z.D)();return(0,d.jsxs)("button",{onClick:()=>a("light"===b?"dark":"light"),className:"inline-flex items-center justify-center rounded-xl p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-indigo-600 dark:hover:text-indigo-400 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer","aria-label":"Toggle Dark Mode",children:[(0,d.jsx)("span",{className:"sr-only",children:"Toggle theme"}),(0,d.jsx)(x.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,d.jsx)(y.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})}var B=c(15501);let C=c(30758).rE;function D({children:a,user:b,onManageUsers:c,onManageProjects:f,onManageFiles:t,onManageMedia:u}){let[x,y]=(0,e.useState)(!1),[z,D]=(0,e.useState)(!1),E=(0,h.usePathname)(),F=function({onSwipeLeft:a,onSwipeRight:b,threshold:c=50}){let[d,f]=(0,e.useState)(null),[g,h]=(0,e.useState)(null),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(null);return{touchStartX:d,onTouchStart:a=>{h(null),l(null),f(a.targetTouches[0].clientX),j(a.targetTouches[0].clientY)},onTouchMove:a=>{h(a.targetTouches[0].clientX),l(a.targetTouches[0].clientY)},onTouchEnd:()=>{if(null===d||null===g||null===i||null===k)return;let e=d-g;!(Math.abs(i-k)>Math.abs(e))&&(e>c&&a&&a(),e<-c&&b&&b())}}}({onSwipeLeft:()=>{z&&D(!1)},onSwipeRight:()=>{!z&&null!==F.touchStartX&&F.touchStartX<50&&D(!0)}});return(0,d.jsxs)("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",onTouchStart:F.onTouchStart,onTouchMove:F.onTouchMove,onTouchEnd:F.onTouchEnd,children:[(0,d.jsxs)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-[1002] h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 flex items-center justify-between shadow-sm",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 relative",children:(0,d.jsx)(i.default,{src:"/Matiere_logo_512.png",alt:"Mati\xe8re Logo",fill:!0,className:"object-contain"})}),(0,d.jsx)("span",{className:"matiere text-lg tracking-tight",children:"Mati\xe8re"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(A,{}),(0,d.jsx)("button",{onClick:()=>D(!0),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors","aria-label":"Ouvrir le menu de navigation",title:"Menu",children:(0,d.jsx)(j.A,{className:"w-6 h-6","aria-hidden":"true"})})]})]}),z&&(0,d.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-[1000] transition-opacity animate-in fade-in duration-300",onClick:()=>D(!1)}),(0,d.jsxs)("aside",{className:`fixed top-0 left-0 z-[1001] h-screen transition-all duration-300 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col
                    ${z?"translate-x-0":"-translate-x-full lg:translate-x-0"}
                    ${x?"lg:w-20":"lg:w-64"}
                    w-72 shadow-2xl lg:shadow-none`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-3 h-20 border-b border-gray-100 dark:border-gray-700 shrink-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,d.jsx)("div",{className:"w-10 h-10 relative shrink-0",children:(0,d.jsx)(i.default,{src:"/Matiere_logo_512.png",alt:"Mati\xe8re Logo",fill:!0,className:"object-contain",priority:!0})}),!x&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"matiere text-lg lg:text-xl tracking-tight whitespace-nowrap",children:"Mati\xe8re"}),(0,d.jsx)("div",{className:"ml-1 scale-90 origin-left",children:(0,d.jsx)(A,{})})]})]}),(0,d.jsx)("button",{onClick:()=>{z?D(!1):y(!x)},className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-400 transition-colors shrink-0 ${x?"hidden":"lg:block"}`,"aria-label":z?"Fermer le menu":"R\xe9duire la barre lat\xe9rale",title:z?"Fermer":"R\xe9duire",children:z?(0,d.jsx)(k.A,{className:"w-5 h-5","aria-hidden":"true"}):(0,d.jsx)(l.A,{className:"w-5 h-5","aria-hidden":"true"})}),x&&(0,d.jsx)("button",{onClick:()=>y(!1),className:"absolute -right-3 top-7 p-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full shadow-sm text-gray-400 hover:text-indigo-600 transition-all z-10 hidden lg:block","aria-label":"D\xe9velopper la barre lat\xe9rale",title:"D\xe9velopper",children:(0,d.jsx)(m.A,{className:"w-3 h-3","aria-hidden":"true"})})]}),(0,d.jsx)("div",{className:`p-4 border-b border-gray-100 dark:border-gray-700 ${x?"flex flex-col items-center":""}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-3 w-full bg-gray-50/50 dark:bg-gray-800/50 p-3 rounded-2xl border border-gray-100 dark:border-gray-700 transition-all group hover:border-indigo-200 dark:hover:border-indigo-900/50",children:[(0,d.jsx)(w.A,{username:b.username||null,name:b.name||null,color:b.color||null,role:b.role||"USER",size:x?"sm":"md"}),!x&&(0,d.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,d.jsx)("span",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:(a=>{switch(a){case"ADMIN":return"Administrateur";case"USER":return"Utilisateur";case"VISITOR":return"Visiteur";default:return a}})(b.role||B.g.USER)}),(0,d.jsx)("span",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",children:b.name||b.username})]})]})}),(0,d.jsxs)("nav",{className:"flex-grow p-4 space-y-2 overflow-y-auto",children:[(0,d.jsxs)("div",{className:"mb-6",children:[!x&&(0,d.jsx)("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-3 mb-2 block",children:"Menu Principal"}),(0,d.jsxs)(g(),{href:"/",onClick:()=>D(!1),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all cursor-pointer ${"/"===E?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 font-bold":"hover:bg-gray-50 dark:hover:bg-gray-900/50 text-gray-600 dark:text-gray-400"} ${x?"justify-center":""}`,children:[(0,d.jsx)(n.A,{className:`w-5 h-5 transition-colors ${"/"===E?"text-indigo-600 dark:text-indigo-400":"text-gray-400 group-hover:text-indigo-500"}`}),!x&&(0,d.jsx)("span",{className:"text-sm",children:"Dashboard"})]})]}),"USER"===b.role&&(0,d.jsxs)("div",{className:"space-y-1 mb-6",children:[!x&&(0,d.jsx)("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-3 mb-2 block",children:"Projets"}),(0,d.jsxs)("button",{onClick:()=>{f?.("modify"),D(!1)},className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-900/50 text-gray-600 dark:text-gray-400 transition-all group cursor-pointer",children:[(0,d.jsx)(o.A,{className:`w-5 h-5 ${x?"mx-auto":""} text-gray-400 group-hover:text-indigo-500`}),!x&&(0,d.jsx)("span",{className:"text-sm font-medium group-hover:text-gray-900 dark:group-hover:text-white",children:"Modification Projets"})]})]}),"ADMIN"===b.role&&(0,d.jsxs)("div",{className:"space-y-1",children:[!x&&(0,d.jsx)("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-3 mb-2 block",children:"Administration"}),(0,d.jsxs)("button",{onClick:()=>{c?.(),D(!1)},className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-900/50 text-gray-600 dark:text-gray-400 transition-all group cursor-pointer",children:[(0,d.jsx)(p.A,{className:`w-5 h-5 ${x?"mx-auto":""} text-gray-400 group-hover:text-indigo-500`}),!x&&(0,d.jsx)("span",{className:"text-sm font-medium group-hover:text-gray-900 dark:group-hover:text-white",children:"Gestion Utilisateurs"})]}),(0,d.jsxs)("button",{onClick:()=>{f?.("create"),D(!1)},className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-900/50 text-gray-600 dark:text-gray-400 transition-all group cursor-pointer",children:[(0,d.jsx)(q.A,{className:`w-5 h-5 ${x?"mx-auto":""} text-gray-400 group-hover:text-indigo-500`}),!x&&(0,d.jsx)("span",{className:"text-sm font-medium group-hover:text-gray-900 dark:group-hover:text-white",children:"Gestion Projet"})]}),(0,d.jsxs)("button",{onClick:()=>{t?.(),D(!1)},className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-900/50 text-gray-600 dark:text-gray-400 transition-all group cursor-pointer",children:[(0,d.jsx)(r.A,{className:`w-5 h-5 ${x?"mx-auto":""} text-gray-400 group-hover:text-indigo-500`}),!x&&(0,d.jsx)("span",{className:"text-sm font-medium group-hover:text-gray-900 dark:group-hover:text-white",children:"Gestion Fichiers"})]}),(0,d.jsxs)("button",{onClick:()=>{u?.("photos"),D(!1)},className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all cursor-pointer ${"/slideshow"===E?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 font-bold":"hover:bg-gray-50 dark:hover:bg-gray-900/50 text-gray-600 dark:text-gray-400"} ${x?"justify-center":""}`,children:[(0,d.jsx)(s.A,{className:`w-5 h-5 transition-colors ${"/slideshow"===E?"text-indigo-600 dark:text-indigo-400":"text-gray-400 group-hover:text-indigo-500"}`}),!x&&(0,d.jsx)("span",{className:"text-sm",children:"Gestion M\xe9dia"})]})]})]}),(0,d.jsx)("div",{className:`p-4 border-t border-gray-100 dark:border-gray-700 ${x?"flex flex-col items-center":""}`,children:(0,d.jsx)(v,{variant:x?"icon":"sidebar"})}),(0,d.jsx)("div",{className:`p-3 border-t border-gray-100 dark:border-gray-700 ${x?"flex flex-col items-center":""}`,children:!x&&(0,d.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[(0,d.jsx)("div",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Site Mati\xe8re"}),(0,d.jsxs)("div",{className:"text-[9px] font-medium text-gray-300 dark:text-gray-600",children:["\xa9 2024-2025 â€¢ v",C]})]})})]}),(0,d.jsx)("main",{className:`flex-grow transition-all duration-300 ml-0
                    ${x?"lg:ml-20":"lg:ml-64"}
                    min-w-0 pt-20 lg:pt-0 pb-12 lg:pb-0 px-2 sm:px-4`,children:(0,d.jsx)("div",{className:"w-full h-full",children:a})})]})}}};